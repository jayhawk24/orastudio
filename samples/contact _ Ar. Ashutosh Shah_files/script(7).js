!function(e){var t={};function n(o){if(t[o])return t[o].exports;var r=t[o]={i:o,l:!1,exports:{}};return e[o].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:o})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=10)}([function(e,t){e.exports=React},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){return/IEMobile/i.test(navigator.userAgent)},r=function(){return/Android/i.test(navigator.userAgent)},i=function(){return/BlackBerry/i.test(navigator.userAgent)},a=function(){return/iPhone|iPad|iPod/i.test(navigator.userAgent)},l=function(){return r()||i()||a()||o()},s={isMobile:l,isWindows:o,isAndroid:r,isBlackBerry:i,isIOS:a},u=function(e){return!isNaN(parseFloat(e))&&isFinite(e)},c={EMAIL:1,SINGLE_LINE:1,MULTI_LINE:3,SUBMIT:0},p=function(e){var t=0;return e.forEach(function(e){t+=c[e.type]||0}),t},d=function(e,t){var n=0,o=0;return e.forEach(function(e){o<t/2&&(o+=c[e.type],n+=1)}),n};t.getImageUrl=function(e){return"//img1.wsimg.com/isteam/ip/static/"+e},t.deviceDetector=s,t.openDirection=function(e){var t="http://maps.google.com/maps?daddr="+e;window.open(t)},t.getPhoneUri=function(e){return e&&"tel:"+e.replace(/[^\d]/g,"")},t.getFormEnabled=function(e){return!1!==e.formEnabled},t.isAddressEmpty=function(e){return!(e&&e.value&&u(e.lat)&&u(e.lng))},t.isRouteMobilePreviewPublish=function(e){var t=e&&e.match(/mobile/i),n=!e&&l();return t||n},t.calculateTotalFieldsWeight=p,t.calculateTippingPoint=d,t.getFieldsBalancingInfo=function(e){var t=p(e),n=t>6&&e.length>4;return{totalWeight:t,useSecondColumn:n,numberOfFieldsOnLeftSide:n?d(e,t):e.length-1}}},function(e,t){e.exports=PropTypes},function(e,t){e.exports=Core},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=n(13),i=(o=r)&&o.__esModule?o:{default:o};t.default=(0,i.default)({CONTACT_SECTION_TITLE_REND:null,CONTACT_EMAIL_INPUT_REND:null,CONTACT_EMAIL_ERR_REND:null,CONTACT_ERR_REND:null,CONTACT_NAME_INPUT_REND:null,CONTACT_MESSAGE_INPUT_REND:null,CONTACT_SUBMIT_BUTTON_REND:null,CONTACT_CANCEL_BUTTON_REND:null,CONTACT_INFO_CONTAINER_REND:null,CONTACT_INFO_PHONE_REND:null,CONTACT_INFO_EMAIL_REND:null,CONTACT_INFO_URL_REND:null,CONTACT_INFO_ADDRESS_REND:null,CONTACT_INFO_BIZ_NAME_REND:null,CONTACT_INFO_WHATS_APP_REND:null,CONTACT_SECTION_DETAILS_REND:null,CONTACT_SECTION_HOURS_REND:null,CONTACT_SECTION_INFO_REND:null,CONTACT_HOURS_TITLE_REND:null,CONTACT_HOURS_REND:null,CONTACT_HOURS_CUST_MSG_REND:null,CONTACT_HOURS_DAY_REND:null,CONTACT_HOURS_COLLAPSED_REND:null,CONTACT_HOURS_COLLAPSED_LABEL:null,CONTACT_HOURS_COLLAPSED_HR_LABEL:null,CONTACT_HOURS_COLLAPSED_ARROW:null,CONTACT_INTRO_DESC_REND:null,CONTACT_INTRO_HEADING_REND:null,CONTACT_FORM_CONTAINER_REND:null,CONTACT_FORM_TITLE_REND:null,CONTACT_MAP_REND:null,CONTACT_MAP_STATIC_REND:null,CONTACT_MAP_MOBILE_OVERLAY:null,CONTACT_FORM_NAME:null,CONTACT_FORM_EMAIL:null,CONTACT_FORM_MESSAGE:null,CONTACT_FORM_SUBMIT_SUCCESS:null,CONTACT_FORM_SUBMIT_SUCCESS_MESSAGE:null,CONTACT_FORM_SUBSCRIBE_SUCCESS_MESSAGE:null,CONTACT_MAP_EXPAND_ICON:null,CONTACT_FORM_REVEAL_BUTTON_REND:null,CONTACT_FORM_COL1:null,CONTACT_FORM_COL2:null,CONTACT_FORM_CONTROLS:null,CONTACT_FORM_CONTAINER_MOBILE:null,CONTACT_FORM_CONTAINER_DESKTOP:null,CONTACT_FORM_CONTAINER_MOBILE_REND:null,CONTACT_FORM_CONTAINER_DESKTOP_REND:null,CONTACT_FORM_RESPONSE_ERR_REND:null,CONTACT_FORM_EMAIL_OPT_IN:null}),e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.openDeviceMap=t.updateSpot=t.getGeoJson=void 0;var o=n(1),r=function(e){var t=e.lat;return{type:"FeatureCollection",features:[{type:"Feature",geometry:{type:"Point",coordinates:[e.lon,t]}}]}};t.getGeoJson=r,t.updateSpot=function(e){var t=e.map,n=e.lat,o=e.lon,i=e.isMapbox,a=void 0===i||i,l=a?function(){t.resize(),t.easeTo({center:[o,n]}),t.getSource("markers").setData(r({lat:n,lon:o}))}:function(){t.panTo({lat:parseFloat(n,10),lng:parseFloat(o,10)})};(a?t.loaded():t&&t.mapUrl)?setTimeout(l,200):a&&t.on("load",l)},t.openDeviceMap=function(e){var t=o.deviceDetector.isIOS()?"http://maps.apple.com/?q="+e:"http://www.google.com/maps/dir//"+e;window.location.href=t}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),r=n(0),i=p(r),a=p(n(14)),l=p(n(2)),s=n(3),u=n(1),c=p(n(4));function p(e){return e&&e.__esModule?e:{default:e}}var d=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e.el=document.createElement("div"),e.el.className="x",e.mapContainer=null,e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.Component),o(t,[{key:"componentDidMount",value:function(){var e=this.props.renderMap,t=document.querySelector(".device-chrome.device-chrome-mobile .viewport");Object.assign(this.el.style,{backgroundColor:"#ffffff",zIndex:"1000000"},t?{position:"absolute",left:t.style.left,right:t.style.right,top:t.style.top,bottom:t.style.bottom,width:t.style.width,height:t.style.height}:{position:"fixed",left:0,right:0,top:0,bottom:0,width:"100%",height:"100%"}),this.parentContainer=t?t.parentNode:document.body,this.parentContainer.appendChild(this.el),e(this.mapContainer)}},{key:"componentWillUnmount",value:function(){this.parentContainer.removeChild(this.el)}},{key:"render",value:function(){var e=this,t=this.props,n=t.handleClose,o=t.getDirectionsLabel,r=t.handleGetDirections,l=i.default.createElement(s.UX2.Element.Block,{category:"neutral",section:"overlay",style:{width:"100%",height:"100%"},"data-aid":c.default.CONTACT_MAP_MOBILE_OVERLAY},i.default.createElement(s.UX2.Element.Link,{tag:"a",style:{position:"absolute",right:"small",top:"small",cursor:"pointer",background:"url('"+(0,u.getImageUrl)("mapIcon/close.svg")+"')",zIndex:"100001",width:"34px",height:"34px"},onClick:n}),i.default.createElement("div",{ref:function(t){e.mapContainer=t},style:{width:"100%",height:"100%"}}),i.default.createElement(s.UX2.Element.Button,{style:{zIndex:100001,position:"absolute",bottom:"xlarger",left:"50%",transform:"translate(-50%, -50%)",textAlign:"center",width:"90%"},onClick:r,children:o}));return a.default.createPortal(l,this.el)}}]),t}();d.propTypes={renderMap:l.default.func.isRequired,handleClose:l.default.func.isRequired,handleGetDirections:l.default.func.isRequired,getDirectionsLabel:l.default.string.isRequired,container:l.default.node.isRequired},t.default=d,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),r=u(n(0)),i=u(n(2)),a=n(3),l=n(1),s=u(n(4));function u(e){return e&&e.__esModule?e:{default:e}}var c=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.default.Component),o(t,[{key:"render",value:function(){var e=this.props,t=e.address,n=e.staticContent,o=e.isRouteMobilePreviewPublish,i=e.openFullScreenOverlay,u={button:{position:"absolute",left:"xxlarge",top:"xsmall",paddingLeft:"xlarge",display:"block",width:"auto","@md":{paddingLeft:"xlarge"},"@xs-only":{fontSize:"xsmall",left:"xsmall",maxWidth:"90%"}},svg:{position:"absolute",top:"50%",left:"small",transform:"translateY(-50%)"},icon:{position:"absolute",right:"small",top:"small",width:"34px",height:"34px",background:"url("+(0,l.getImageUrl)("mapIcon/expand.svg")+")",cursor:"pointer"}};if(!o){var c=n.mapCTA,p=(0,a.UX2.utils.TCCLUtils.getTCCLString)({eid:"ux2.contact.get_directions.click",type:"click"});return r.default.createElement(a.UX2.Element.Button,{tag:"button",size:"small","data-tccl":p,onClick:l.openDirection.bind(null,t),style:u.button},r.default.createElement(a.UX2.Element.SVG,{width:"15px",height:"15px",viewBox:"0 0 61 61",version:"1.1",style:u.svg},r.default.createElement("g",{stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd"},r.default.createElement("g",{transform:"translate(-30.000000, -27.000000)",fill:"currentColor"},r.default.createElement("path",{d:"M90.1992188,30.9960938 L62.6992188,85.9960938 C62.2122371,86.9987029 61.3958391,87.5 60.25,87.5 C60.1067701,87.5 59.8919285,87.4713545 59.6054688,87.4140625 C58.9752573,87.2708326 58.4667988,86.9485702 58.0800781,86.4472656 C57.6933574,85.945961 57.5,85.3802115 57.5,84.75 L57.5,60 L32.75,60 C32.1197885,60 31.554039,59.8066426 31.0527344,59.4199219 C30.5514298,59.0332012 30.2291674,58.5247427 30.0859375,57.8945312 C29.9427076,57.2643198 29.9999987,56.6627633 30.2578125,56.0898438 C30.5156263,55.5169242 30.9309867,55.087241 31.5039062,54.8007812 L86.5039062,27.3007812 C86.8763039,27.1002594 87.2916644,27 87.75,27 C88.5234414,27 89.1679662,27.2721327 89.6835938,27.8164062 C90.1132834,28.2174499 90.3782547,28.7115856 90.4785156,29.2988281 C90.5787765,29.8860706 90.4856785,30.4518202 90.1992188,30.9960938 L90.1992188,30.9960938 Z"})))),c)}return r.default.createElement("a",{onClick:i,style:u.icon,"data-aid":s.default.CONTACT_MAP_EXPAND_ICON})}}]),t}();c.propTypes={address:i.default.string,isRouteMobilePreviewPublish:i.default.bool,staticContent:i.default.object.isRequired,openFullScreenOverlay:i.default.func.isRequired},t.default=c,e.exports=t.default},function(e,t){e.exports=_},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),r=s(n(0)),i=n(3),a=s(n(4)),l=n(1);function s(e){return e&&e.__esModule?e:{default:e}}var u=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.default.Component),o(t,[{key:"render",value:function(){var e={left:0,top:0,right:0,bottom:0,position:"absolute",display:"block",backgroundImage:"url('"+(0,l.getImageUrl)("mapIcon/mboxThumb.png")+"')",backgroundSize:"cover",backgroundPosition:"center"};return r.default.createElement(i.UX2.Element.Block,{"data-aid":a.default.CONTACT_MAP_STATIC_REND,style:e,"data-traffic2":"pandc.vnext.edit_widget_contact.static_map.click"})}}]),t}();t.default=u,e.exports=t.default},function(e,t,n){"use strict";window.wsb=window.wsb||{},window.wsb.MapRaw1=n(11)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),r=c(n(0)),i=c(n(2)),a=c(n(12)),l=c(n(16)),s=c(n(9)),u=c(n(18));function c(e){return e&&e.__esModule?e:{default:e}}var p=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.default.Component),o(t,[{key:"render",value:function(){switch(this.props.type){case u.default.STATIC:return r.default.createElement(s.default,null);case u.default.MAPBOX_PROVIDER:return r.default.createElement(l.default,this.props);case u.default.GOOGLEMAPS_PROVIDER:return r.default.createElement(a.default,this.props);default:return null}}}]),t}();p.propTypes={type:i.default.string},t.default=p,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},r=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),i=_(n(0)),a=_(n(2)),l=n(3),s=_(n(4)),u=_(n(6)),c=n(5),p=n(15),d=n(1),f=_(n(7)),b=n(8);function _(e){return e&&e.__esModule?e:{default:e}}var m=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.toggleMobileOverlay=function(){n.setState({showMobileOverlay:!n.state.showMobileOverlay})},n.handleGetDirections=function(){var e=n.props.address;(0,c.openDeviceMap)(e)},n.renderFullScreenMap=function(e){n.generateGMap(e,!0)},n.state={isMobile:d.deviceDetector.isMobile(),isViewPortRender:"MOBILE_RENDER_DEVICE"===e.viewDevice&&!!document.querySelector(".device-chrome"),showMobileOverlay:!1},n.generateGMap=n.generateGMap.bind(n),n.randomId=(new Date).getTime().toString(16),n.googleMap=null,n.mapContainer=null,n.currentCoords={lastLat:null,lastLon:null},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.default.Component),r(t,[{key:"componentDidMount",value:function(){(0,p.loadGoogleMapsLibrary)(this.generateGMap.bind(this,this.mapContainer,!1),!1)}},{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.lat,o=t.lon,r=t.address,i=t.isEditMode,a=this.currentCoords,l=a.lastLat,s=a.lastLon;n&&o&&l!==n&&s!==o&&((0,c.updateSpot)({map:this.googleMap,lat:n,lon:o,isMapbox:!1}),this.currentCoords={lastLat:n,lastLon:o}),e.address===r&&i||this.generateGMap(this.mapContainer)}},{key:"generateGMap",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this.props,o=n.lat,r=n.lon,i=n.zoom,a=n.isEditMode,l=n.viewDevice,s=(n.isPublishMode,this.state),u=s.isMobile,c=s.isViewPortRender;if(o&&r&&window.google){var p={lat:parseFloat(o,10),lng:parseFloat(r,10)},d={center:p,zoom:i,mapTypeId:google.maps.MapTypeId.ROADMAP,mapTypeControl:!1,scrollwheel:!1,fullscreenControl:!1,streetViewControl:!1,zoomControl:(t||!u||a||"DESKTOP_RENDER_DEVICE"===l)&&!c,zoomControlOptions:{position:google.maps.ControlPosition.LEFT_TOP}};u&&!t&&(d.gestureHandling="none"),this.googleMap=new google.maps.Map(e,d);new google.maps.Marker({position:p,map:this.googleMap})}}},{key:"render",value:function(){var e=this,t=this.props,n=t.lat,r=t.lon,a=t.zoom,c=t.category,p=t.section,d=t.address,_=t.staticContent,m=(t.renderMode,t.isPublishMode,t.viewDevice),h=t.isEditMode,C=t.overrideOverlay,O=this.state,g=O.isMobile,y=O.isViewPortRender,v=O.showMobileOverlay;if(!Boolean(Number(n)&&Number(r)&&Number(a)))return null;var E={shared:{left:0,top:0,right:0,bottom:0,position:"absolute",transform:"translate3d(0,0,0)"},wrapper:{display:"block",cursor:"pointer",position:"absolute !important"}},T=C||g&&!h&&"DESKTOP_RENDER_DEVICE"!==m,M=T&&!y?this.toggleMobileOverlay:b.noop,w={address:d,staticContent:_,isRouteMobilePreviewPublish:T,openFullScreenOverlay:M};return i.default.createElement(l.UX2.Element.Block,{category:c,section:p,style:o({},E.shared,E.wrapper)},i.default.createElement("div",{id:"mapContainer_"+this.randomId,ref:function(t){e.mapContainer=t},style:E.shared,"data-aid":s.default.CONTACT_MAP_REND,onClick:M}),!y&&i.default.createElement(f.default,w),v&&i.default.createElement(u.default,{getDirectionsLabel:_.mapCTA,renderMap:this.renderFullScreenMap,handleClose:this.toggleMobileOverlay,handleGetDirections:this.handleGetDirections}))}}]),t}();m.propTypes={lat:a.default.string,lon:a.default.string,zoom:a.default.number,address:a.default.string,env:a.default.string,category:a.default.string,section:a.default.string,staticContent:a.default.object.isRequired,isPublishMode:a.default.bool,viewDevice:a.default.string,isEditMode:a.default.bool,overrideOverlay:a.default.bool,renderMode:a.default.string},m.defaultProps={staticContent:{mapCTA:""}},t.default=m,e.exports=t.default},function(e,t){e.exports=keyMirror},function(e,t){e.exports=ReactDOM},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.loadGoogleMapsLibrary=function(e){if(window.google&&window.google.maps)return e();if(document.querySelectorAll("script[src*='maps.googleapis.com/maps/api/js']").length)return setTimeout(e,2e3);var t=document.createElement("script"),n=["https://maps.googleapis.com/maps/api/js","?client=gme-godaddycom","&channel=gc-widget-contact"].join("");t.setAttribute("src",""+n),t.setAttribute("async","async"),document.body.appendChild(t),t.onload=e}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},r=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),i=m(n(0)),a=m(n(2)),l=n(3),s=m(n(4)),u=n(5),c=n(17),p=n(1),d=m(n(7)),f=n(8),b=m(n(9)),_=m(n(6));function m(e){return e&&e.__esModule?e:{default:e}}var h=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.toggleMobileOverlay=function(){n.setState({showMobileOverlay:!n.state.showMobileOverlay})},n.generateMap=function(){if(!n.state.generateMap)return null;var e=n.props,t=e.lat,o=e.lon,r=e.zoom,i=e.viewDevice,a=e.mapboxAccessToken,s=e.mapboxStyleUrl,u=e.renderMode,d=i&&i.match(/mobile/i)||u===l.constants.renderModes.PUBLISH&&p.deviceDetector.isMobile();t&&o&&(n.glMap=(0,c.initializeGLMap)({container:n.mapContainer,interactive:!n.state.isRouteMobilePreviewPublish&&!d,scrollZoom:!1,lat:t,lon:o,zoom:r,accessToken:a,styleUrl:s}),n.glMap&&"undefined"!=typeof window&&n.putMapToGlobalSpace(n.glMap),n.state.initialized||n.setState({initialized:!0}),n.glMap&&n.setState({mapboxLoaded:!0}))},n.renderFullScreenMap=function(e){var t=n.props,o=t.lat,r=t.lon,i=t.zoom,a=t.mapboxAccessToken,l=t.mapboxStyleUrl;(0,c.initializeGLMap)({container:e,interactive:!0,lat:o,lon:r,zoom:i,scrollZoom:!0,accessToken:a,styleUrl:l})},n.handleGetDirections=function(){var e=n.props.address;(0,u.openDeviceMap)(e)},n.state={mapboxLoaded:!1,initialized:!1,isMobile:p.deviceDetector.isMobile(),isViewPortRender:"MOBILE_RENDER_DEVICE"===e.viewDevice&&!!document.querySelector(".device-chrome"),generateMap:!e.lazyLoadMap,showMobileOverlay:!1},n.randomId=(new Date).getTime().toString(16),n.glMap=null,n.mapContainer=null,n.onScroll=(0,f.throttle)(n.onScroll.bind(n),250),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.default.Component),r(t,[{key:"onScroll",value:function(){if(this.props.lazyLoadMap&&this.mapWrapper){var e=this.mapWrapper.getBoundingClientRect().top-(window.innerHeight+50)<=0;e&&(this.stopListening(),this.setState({generateMap:e}))}}},{key:"stopListening",value:function(){window.removeEventListener("scroll",this.onScroll,{passive:!0}),window.removeEventListener("resize",this.onScroll,{passive:!0}),this.renderContainer&&this.renderContainer.removeEventListener("scroll",this.onScroll,{passive:!0})}},{key:"componentDidMount",value:function(){var e=this.props,t=e.lazyLoadMap,n=e.renderMode;t&&(window.addEventListener("scroll",this.onScroll,{passive:!0}),window.addEventListener("resize",this.onScroll,{passive:!0}),this.renderContainer=this.renderContainer||n!==l.constants.renderModes.PUBLISH&&document.getElementById("render-container"),this.renderContainer&&this.renderContainer.addEventListener("scroll",this.onScroll,{passive:!0}),this.onScroll()),(0,c.loadMapBoxLibrary)(this.generateMap)}},{key:"componentWillUnmount",value:function(){this.glMap&&(this.removeMapFromGlobalSpace(this.glMap),this.glMap.remove()),this.stopListening()}},{key:"componentDidUpdate",value:function(e){if(this.glMap){var t=this.props,n=t.lat,o=t.lon;n&&o&&(n!==e.lat||o!==e.lon)&&(0,u.updateSpot)({map:this.glMap,lat:n,lon:o}),setTimeout(this.glMap.resize.bind(this.glMap),500)}else(0,c.loadMapBoxLibrary)(this.generateMap)}},{key:"putMapToGlobalSpace",value:function(e){window.wsb=window.wsb||{},window.wsb.contact=window.wsb.contact||{},window.wsb.contact.maps=window.wsb.contact.maps||[],window.wsb.contact.handleMapResize=window.wsb.contact.handleMapResize||function(){window.requestAnimationFrame(function(){window.wsb.contact.maps.forEach(function(e){e.resize()})})},window.wsb.contact.maps.push(e)}},{key:"removeMapFromGlobalSpace",value:function(e){var t=window.wsb.contact.maps,n=t.indexOf(e);-1!==n&&t.splice(n,1)}},{key:"render",value:function(){var e=this,t=this.props,n=t.lat,r=t.lon,a=t.zoom,u=t.category,c=t.section,p=t.address,m=t.staticContent,h=t.isPublishMode,C=t.isEditMode,O=t.viewDevice,g=t.overrideOverlay,y=this.state,v=y.mapboxLoaded,E=y.initialized,T=y.showMobileOverlay,M=y.isViewPortRender,w=y.isMobile;if(!Boolean(Number(n)&&Number(r)&&Number(a)))return null;var N={left:0,top:0,right:0,bottom:0,position:"absolute",cursor:"pointer",display:"block"},A={position:"absolute !important"},R={transform:"translate3d(0,0,0)"},S=g||w&&!C&&"DESKTOP_RENDER_DEVICE"!==O||h&&w,P=S&&!M?this.toggleMobileOverlay:f.noop,D={address:p,staticContent:m,isRouteMobilePreviewPublish:S,openFullScreenOverlay:P};return i.default.createElement("div",{ref:function(t){e.mapWrapper=t||e.mapWrapper}},i.default.createElement(l.UX2.Element.Block,{category:u,section:c,style:o({},N,A)},i.default.createElement("div",{id:"mapContainer_"+this.randomId,ref:function(t){e.mapContainer=t},style:o({},N,R),"data-aid":s.default.CONTACT_MAP_REND,onClick:P}),i.default.createElement(d.default,D),E&&!v&&i.default.createElement(b.default,null)),T&&i.default.createElement(_.default,{getDirectionsLabel:m.mapCTA,renderMap:this.renderFullScreenMap,handleClose:this.toggleMobileOverlay,handleGetDirections:this.handleGetDirections}))}}]),t}();h.propTypes={lat:a.default.string,lon:a.default.string,zoom:a.default.number,viewDevice:a.default.string,address:a.default.string,env:a.default.string,category:a.default.string,section:a.default.string,mapboxAccessToken:a.default.string,mapboxStyleUrl:a.default.string,staticContent:a.default.object.isRequired,isPublishMode:a.default.bool,isEditMode:a.default.bool,overrideOverlay:a.default.bool,renderMode:a.default.string,lazyLoadMap:a.default.bool},h.defaultProps={staticContent:{mapCTA:""},lazyLoadMap:!1},t.default=h,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isSupported=t.initializeGLMap=t.loadMapBoxLibrary=void 0;var o=n(5);t.loadMapBoxLibrary=function(e){if(window&&window.mapboxgl)e();else{window&&window._trfq&&window._trfq.push(["cmdLogEvent","load","ux2.contact.mapbox.load",[]]);var t="//api.mapbox.com/mapbox-gl-js/v1.0.0/mapbox-gl",n=document.createElement("script");n.setAttribute("src",t+".js"),n.setAttribute("type","text/javascript"),n.setAttribute("async","async"),n.setAttribute("id","addmapbox-js"),n.setAttribute("crossorigin","anonymous"),document.head.appendChild(n),n.onload=function(){var n=document.createElement("link");n.setAttribute("href",t+".css"),n.setAttribute("rel","stylesheet"),n.setAttribute("async","async"),n.setAttribute("id","addmapbox-css"),document.head.appendChild(n),n.onload=e}}},t.initializeGLMap=function(e){var t=e.container,n=e.interactive,r=e.scrollZoom,i=e.lat,a=e.lon,l=e.zoom,s=e.accessToken,u=e.styleUrl,c=window.mapboxgl;if(!c||!c.supported())return null;if(!t)return null;var p={container:t,style:u,interactive:n,zoom:l,center:[a,i],minZoom:1.5};c.accessToken=s;var d=new c.Map(p);return r||d.scrollZoom.disable(),d.on("load",function(){var e={id:"markers",type:"symbol",source:{type:"geojson"},layout:{"icon-image":"marker-vnext","icon-size":1}};if(e.source.data=(0,o.getGeoJson)({lat:i,lon:a}),d.addLayer(e),n){var t=new c.NavigationControl;d.addControl(t,"top-left")}}),d},t.isSupported=function(){return window&&window.mapboxgl&&window.mapboxgl.supported()}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={MAPBOX_PROVIDER:"mapbox",GOOGLEMAPS_PROVIDER:"google",STATIC:"static"},e.exports=t.default}]);